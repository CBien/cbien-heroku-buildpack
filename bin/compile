#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir>

set -e

TARGET_DIR=$HOME
BIN_DIR=$(cd $(dirname $0); pwd) # absolute path
ROOT_DIR=$(dirname $BIN_DIR)
BUILD_DIR=$1
CACHE_DIR=$2
PROFILE_PATH="$BUILD_DIR/.profile.d/python.sh"
PYTHON_EXE="/app/.heroku/python/bin/python"

TABLEAU_SDK_URL="https://downloads.tableau.com/tssoftware/Tableau-SDK-Python-Linux-64Bit-9-3-3.tar.gz"
TABLEAU_SDK_ARCHIVE="tableausdk.tag.gz"
TABLEAU_SDK_PACKAGE="TableauSDK-9300.0.0.0"

# Buildpack Steps.
puts-step() {
    echo "-----> $@"
}

# Usage: $ set-env key value
set-env() {
    echo "export $1=$2" >> $PROFILE_PATH
}

# Usage: $ set-default-env key value
set-default-env() {
    echo "export $1=\${$1:-$2}" >> $PROFILE_PATH
}


bpwatch start post_compile
  source $BIN_DIR/hook/post_compile
bpwatch stop post_compile
